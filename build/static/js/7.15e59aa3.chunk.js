(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{189:function(r,e,n){"use strict";n.r(e);var t=n(148),a=n.n(t),s=n(62),o=(n(149),n(158)),u=n(150),c=n(0),i=n.n(c),p=(n(162),n(185)),l=n(186),f=n(164),d=n.n(f);function g(r){var e=r,n=e.formData,t=e.bearerToken;return r=Object(s.a)({},r,{transformRequest:[function(r){if(n){var e=function(){var e=new FormData,n=function(n){/\[\]$/.test(n)?r[n].forEach(function(r){e.append(n,r)}):e.append(n,r[n])};for(var t in r)n(t);return{v:e}}();if("object"===typeof e)return e.v}return JSON.stringify(r)}],headers:{"Content-Type":"application/json; charset=utf-8"}}),t&&(r.headers.Authorization="Bearer "),r}function b(r){var e=r.data,n=e&&e.status_code,t=e&&e.message||"\u540e\u7aef\u63a5\u53e3\u5f02\u5e38",a=e.data||{};return 1e3===n?{data:a}:{error:t}}function v(r,e){switch(e.type){case"init":return{response:null,loading:!0,error:null};case"success":return{response:e.response,loading:!1,error:null};case"error":return{response:null,loading:!1,error:e.errror};default:return{response:null,loading:!1,error:null}}}var h={url:"/federal-api/admin/login",method:"post",successMsg:"\u767b\u5f55\u6210\u529f\uff01"};e.default=function(){var r=function(r){var e=Object(c.useReducer)(v,{response:null,loading:!1,error:null}),n=Object(l.a)(e,2),t=n[0],o=n[1];function i(){return(i=Object(u.a)(a.a.mark(function e(n){var t,u,c,i,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o({type:"init"}),r=g(Object(s.a)({},r,n)),e.next=5,d()(r);case 5:if(t=e.sent,u=b(t),c=u.data,!(i=u.error)){e.next=13;break}return p.a.error(r.errMsg||i),o({type:"error",error:i}),e.abrupt("return","");case 13:return o({type:"success",response:t}),(l=r.successMsg)&&p.a.success(l),e.abrupt("return",c);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),p.a.error(r.errMsg||e.t0.message),o({type:"error",error:e.t0});case 23:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}return Object(s.a)({},t,{request:function(r){return i.apply(this,arguments)}})}(h),e=r.loading,n=r.request;function t(){return(t=Object(u.a)(a.a.mark(function r(){var e,t;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={username:"admin",password:"123456"},r.next=3,n(Object(s.a)({},h,{data:e}));case 3:t=r.sent,console.log("login",t);case 5:case"end":return r.stop()}},r)}))).apply(this,arguments)}return i.a.createElement(o.a,{disabled:e,type:"primary",onClick:function(){return t.apply(this,arguments)}},e?"Login...":"Login")}}}]);